<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Digineer Store - Solusi Digital Profesional & Jasa Kreatif</title>
  <meta name="description" content="Jasa desain profesional, development website, digital marketing, dan solusi kreatif untuk transformasi bisnis Anda." />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://example.com/" />
  <meta property="og:title" content="Digineer Store - Solusi Digital Profesional" />
  <meta property="og:description" content="Jasa desain, website, dan digital marketing untuk transformasi bisnis Anda." />
  <meta property="og:image" content="https://example.com/og-cover.jpg" />
  <meta property="og:url" content="https://example.com/" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#10bfa4" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-title" content="Digineer Store" />
  <link rel="icon" href="assets/favicon.ico" />

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>

  <style>
    :root{
      --primary:#10bfa4; --primary-600:#0ea894; --accent:#12d3b7; --secondary:#0b1220;
      --bg:#f7faf9; --surface:#ffffff; --ink:#0b1220; --muted:#62707f; --border:#e5e9ec;
      --success:#0fb985; --error:#ef4444;
      --container:1120px; --header-h:64px;
      --radius:14px; --radius-sm:10px;
      --shadow:0 6px 20px rgba(2,8,23,.08); --shadow-sm:0 2px 10px rgba(2,8,23,.06);
      --transition:all .25s ease;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}
    html{-webkit-text-size-adjust:100%}
    body{
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg);color:var(--ink);line-height:1.6;
      -webkit-tap-highlight-color:transparent;
      padding-top:calc(var(--header-h) + env(safe-area-inset-top, 0px));
    }
    input,select,textarea{font-size:16px}

    .skip-link{position:absolute;left:-9999px;top:0;background:#111;color:#fff;padding:.5rem .75rem;border-radius:10px}
    .skip-link:focus{left:.75rem;top:.75rem;z-index:9999}

    /* Header */
    .header{
      position:fixed;left:0;right:0;top:0;z-index:1000;
      height:calc(var(--header-h) + env(safe-area-inset-top,0px));
      padding-top:env(safe-area-inset-top,0px);
      background:rgba(255,255,255,.98);border-bottom:1px solid var(--border);
      -webkit-backdrop-filter:saturate(180%) blur(14px);backdrop-filter:saturate(180%) blur(14px);
      overflow:visible;
    }
    .nav{max-width:var(--container);margin:0 auto;height:var(--header-h);
      padding:0 12px;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px;overflow:visible}
    .brand{display:flex;align-items:center;gap:.75rem;text-decoration:none}
    .brand img{height:28px;width:auto;display:block}
    .brand span{font-weight:800;letter-spacing:.2px;color:var(--primary);line-height:1}
    .links{display:flex;gap:24px;justify-self:center}
    .nav-link{font-weight:600;text-decoration:none;color:#0b1220b3;padding:.25rem;border-radius:8px}
    .nav-link:hover{color:var(--primary)}
    .actions{display:flex;gap:8px;overflow:visible}
    .icon-btn{width:44px;height:44px;border:1px solid var(--border);background:var(--surface);border-radius:999px;display:grid;place-items:center;cursor:pointer;transition:var(--transition);position:relative}
    .icon-btn:hover{transform:translateY(-1px);border-color:#d1d8de;box-shadow:var(--shadow-sm);color:var(--primary)}
    .badge{position:absolute;right:-6px;top:-6px;background:var(--accent);color:#043a33;border:1px solid #8bf0e1;border-radius:999px;min-width:18px;height:18px;padding:0 6px;display:grid;place-items:center;font-size:.7rem;font-weight:800}
    .hamburger{display:none}
    .drawer{display:none}

    /* Hero */
    .hero{
      position:relative;
      background:radial-gradient(1200px 600px at 20% -10%, rgba(16,191,164,.35) 0%, rgba(16,191,164,0) 60%),linear-gradient(140deg,#14b8a6 0%, #0ea894 28%, #0b1220 85%);
      color:#fff;
      margin-top:calc(var(--header-h) + env(safe-area-inset-top,0px));
    }
    .hero-inner{
      max-width:var(--container);margin:0 auto;
      padding:clamp(3rem, 8vw, 6rem) 1rem clamp(3rem, 8vw, 6rem);
      text-align:center
    }
    .hero h1{font-weight:800;line-height:1.08;letter-spacing:.2px;font-size:clamp(2rem,3.6vw,3.25rem)}
    .hero h1 .sub{display:block;color:#bdf6ed}
    .hero p{opacity:.98;margin-top:1rem;font-size:clamp(1rem,1.5vw,1.125rem)}
    .cta{display:flex;gap:.75rem;justify-content:center;margin-top:1.25rem;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:.5rem;border:none;border-radius:12px;font-weight:800;cursor:pointer;transition:var(--transition);padding:.9rem 1.15rem;min-height:44px}
    .btn-primary{background:#0b1220;color:#e6fffb;border:1px solid #1b2a39}
    .btn-primary:hover{transform:translateY(-2px);box-shadow:var(--shadow);background:#101a27}
    .btn-ghost{background:rgba(255,255,255,.08);color:#ecfffd;border:1px solid rgba(255,255,255,.22)}
    .btn-ghost:hover{background:rgba(255,255,255,.16);transform:translateY(-2px)}

    /* Products */
    .section{padding:6rem 0}
    .container{max-width:var(--container);margin:0 auto;padding:0 1rem}
    .section-title{font-size:clamp(1.75rem,2.4vw,2.25rem);text-align:center;font-weight:800;margin-bottom:3rem;background:linear-gradient(135deg,#0ea894,#0b1220);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .tools{display:flex;flex-wrap:wrap;gap:1rem;justify-content:space-between;align-items:center;margin-bottom:2rem}
    .search{position:relative;min-width:280px;flex:1}
    .search input{width:100%;padding:1rem 1rem 1rem 3rem;border:1px solid var(--border);border-radius:12px;background:#fff;font-size:16px}
    .search i{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--muted)}
    .filters{display:flex;flex-wrap:wrap;gap:.5rem}
    .chip{padding:.65rem 1.1rem;border:1px solid var(--border);background:#fff;border-radius:999px;font-weight:700;cursor:pointer;transition:var(--transition);min-height:40px}
    .chip.active{background:var(--primary);border-color:var(--primary);color:#072d28}

    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:1.5rem}
    .col{grid-column:span 4}
    @media (max-width:1024px){ .col{grid-column:span 6} }
    @media (max-width:640px){ .col{grid-column:span 12} }

    .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow-sm);transition:var(--transition);display:flex;flex-direction:column;height:100%}
    .card:hover{transform:translateY(-4px);box-shadow:var(--shadow)}
    .cover{width:100%;height:204px;object-fit:cover;display:block}
    .card-body{padding:1.5rem;display:flex;flex-direction:column;gap:.75rem;flex:1}
    .cat{color:var(--primary);text-transform:uppercase;letter-spacing:.08em;font-size:.8rem;font-weight:800}
    .title{font-weight:800;font-size:1.1rem;line-height:1.35;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:3rem}
    .desc{color:var(--muted);font-size:.97rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;min-height:3rem}

    .meta{margin-top:auto;display:flex;align-items:center;justify-content:space-between;gap:.75rem}
    .price{font-weight:900;color:#0a8f7e;font-size:1.25rem}
    .actions{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap;justify-content:flex-end}
    .btn-buy{display:inline-flex;align-items:center;gap:.5rem;padding:.65rem 1rem;border-radius:12px;border:1px solid #8bf0e1;background:var(--primary);color:#053b34;font-weight:800;cursor:pointer;transition:var(--transition)}
    .btn-buy:hover{background:var(--primary-600);transform:translateY(-2px)}
    .round{width:42px;height:42px;border:none;border-radius:12px;display:grid;place-items:center;cursor:pointer;transition:var(--transition)}
    .round.wish{background:#edf7f6;color:#537872;border:1px solid #d6ece9}
    .round.wish.active{background:var(--accent);color:#053b34;border-color:#8bf0e1}
    .round:hover{transform:translateY(-2px)}

    /* Cart */
    .overlay{position:fixed;inset:0;background:rgba(11,18,32,.45);opacity:0;visibility:hidden;transition:var(--transition);z-index:998}
    .overlay.active{opacity:1;visibility:visible}
    .cart{position:fixed;top:0;right:-420px;width:min(94vw,400px);height:100vh;background:#fff;border-left:1px solid var(--border);box-shadow:var(--shadow);z-index:999;transition:var(--transition);display:flex;flex-direction:column}
    .cart.active{right:0}
    .cart-h{padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border)}
    .cart-b{flex:1;overflow:auto;padding:1.5rem;display:flex;flex-direction:column;gap:1rem}
    .cart-i{display:flex;gap:1rem;background:#f4fbfa;border:1px solid var(--border);border-radius:var(--radius-sm);padding:1rem}
    .cart-i img{width:64px;height:64px;object-fit:cover;border-radius:10px}
    .cart-f{border-top:1px solid var(--border);padding:1.5rem;display:flex;flex-direction:column;gap:1rem}
    .ttl{display:flex;justify-content:space-between;font-weight:900;font-size:1.15rem}
    .btn-check{padding:1rem;border:none;border-radius:12px;background:var(--primary);color:#053b34;font-weight:900;cursor:pointer;transition:var(--transition);border:1px solid #8bf0e1}
    .btn-check:hover{background:var(--primary-600)}

    /* Notes & Skeleton */
    .note{position:fixed;top:calc(var(--header-h) + 24px);right:16px;background:#fff;border-left:4px solid var(--primary);box-shadow:var(--shadow);border-radius:12px;padding:.9rem 1.1rem;display:flex;align-items:center;gap:.75rem;transform:translateX(420px);transition:transform .3s ease;z-index:1001}
    .note.show{transform:translateX(0)}
    .note.success{border-left-color:var(--success)}
    .note.error{border-left-color:var(--error)}

    .sk{background:linear-gradient(90deg,#eef6f5 25%,#f8fdfc 37%,#eef6f5 63%);background-size:400% 100%;animation:shimmer 1.2s ease infinite;border-radius:12px}
    @keyframes shimmer{0%{background-position:100% 0}100%{background-position:-100% 0}}
    .sk-card{border:1px solid var(--border);background:#fff;border-radius:var(--radius);box-shadow:var(--shadow-sm);overflow:hidden}
    .sk-img{height:204px}
    .sk-body{padding:1.5rem}
    .sk-line{height:14px;margin:.6rem 0}

    /* Footer */
    footer{margin-top:6rem;background:#fff;border-top:1px solid var(--border)}
    .foot{max-width:var(--container);margin:0 auto;padding:2rem 1rem;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:1rem;color:var(--muted)}
    .foot .brand-mini{display:flex;align-items:center;gap:.6rem}
    .foot .brand-mini img{height:20px}
    .social{display:flex;gap:12px}
    .social a{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid var(--border);border-radius:10px;color:#3a4a50;text-decoration:none;transition:var(--transition)}
    .social a:hover{color:var(--primary);border-color:#8bf0e1;box-shadow:var(--shadow-sm)}

    :focus-visible{outline:3px solid var(--primary);outline-offset:2px}
    @media (prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}
    @media (max-width:768px){
      .links{display:none}
      .hamburger{display:inline-grid;place-items:center}
      .drawer{display:block;position:fixed;top:calc(var(--header-h) + env(safe-area-inset-top,0px));left:0;right:0;background:#fff;border-bottom:1px solid var(--border);transform:translateY(-120%);transition:var(--transition);z-index:999}
      .drawer.open{transform:translateY(0)}
      .drawer a{display:block;padding:1rem 1rem;border-top:1px solid var(--border);text-decoration:none;color:#0b1220}
      .drawer a:active{background:#f4fbfa}
      
      :root {--header-h: 60px;}
      .hero {margin-top: calc(60px + env(safe-area-inset-top,0px));}
      body {padding-top: calc(60px + env(safe-area-inset-top,0px));}
    }

    @media (max-width: 640px) {
      .hero-inner {padding: 3rem 1rem 3rem;}
      .section {padding: 4rem 0;}
      .tools {flex-direction: column;align-items: stretch;gap: 1rem;}
      .search {min-width: 100%;}
      .filters {justify-content: center;overflow-x: auto;padding-bottom: 8px;-webkit-overflow-scrolling: touch;}
      .chip {white-space: nowrap;font-size: 0.9rem;padding: 0.6rem 1rem;}
      .card-body {padding: 1.25rem;}
      .meta {flex-wrap: wrap;gap: 0.5rem;}
      .price {font-size: 1.1rem;}
      .btn-buy {padding: 0.6rem 0.9rem;font-size: 0.9rem;}
      .round {width: 38px;height: 38px;}
      .cta {flex-direction: column;align-items: center;}
      .btn {width: 100%;max-width: 280px;justify-content: center;}
    }

    @media (max-width: 1024px) and (min-width: 641px) {.col{grid-column:span 6}}
    @media (hover: none) {
      .card:hover,.btn:hover,.btn-buy:hover,.round:hover,.icon-btn:hover{transform:none}
      .btn:active,.btn-buy:active,.round:active,.icon-btn:active{transform:scale(0.98)}
    }
    @supports(padding: max(0px)) {
      .header, .hero {padding-left: env(safe-area-inset-left);padding-right: env(safe-area-inset-right);}
    }
  </style>
</head>
<body>
  <a href="#produk" class="skip-link">Lewati ke konten</a>

  <header class="header" role="banner">
    <nav class="nav" aria-label="Navigasi utama">
      <a class="brand" href="#home" aria-label="Digineer Store">
        <img src="assets/logo.png" alt="Digineer Store" width="144" height="32" decoding="async" fetchpriority="high"
             onerror="this.onerror=null;this.src='https://via.placeholder.com/144x32/10bfa4/ffffff?text=Digineer'">
        <span>Digineer</span>
      </a>

      <div class="links" role="menubar">
        <a class="nav-link" role="menuitem" href="#home">Home</a>
        <a class="nav-link" role="menuitem" href="#produk">Produk</a>
        <a class="nav-link" role="menuitem" href="#about">Tentang</a>
        <a class="nav-link" role="menuitem" href="#contact">Kontak</a>
      </div>

      <div class="actions">
        <button class="icon-btn hamburger" id="btnMenu" aria-label="Buka menu" aria-expanded="false">
          <i class="fas fa-bars"></i>
        </button>
        <button class="icon-btn" id="btnWishlist" aria-label="Buka wishlist">
          <i class="far fa-heart"></i>
          <span class="badge" id="wishlistBadge">0</span>
        </button>
        <button class="icon-btn" id="btnCart" aria-label="Buka keranjang">
          <i class="fas fa-cart-shopping"></i>
          <span class="badge" id="cartBadge">0</span>
        </button>
        <a href="admin.html" class="icon-btn" aria-label="Halaman admin">
          <i class="fas fa-user-cog"></i>
        </a>
      </div>
    </nav>

    <div class="drawer" id="drawer" aria-label="Menu mobile">
      <a href="#home">Home</a>
      <a href="#produk">Produk</a>
      <a href="#about">Tentang</a>
      <a href="#contact">Kontak</a>
    </div>
  </header>

  <section class="hero" id="home" role="region" aria-label="Hero">
    <div class="hero-inner">
      <h1>Solusi Digital <span class="sub">Profesional</span></h1>
      <p>Jasa desain, development website, dan solusi kreatif untuk transformasi bisnis Anda dengan tim ahli berpengalaman.</p>
      <div class="cta">
        <button class="btn btn-primary" id="btnExplore"><i class="fas fa-rocket"></i> Jelajahi Layanan</button>
        <button class="btn btn-ghost" id="btnConsult"><i class="fas fa-comments"></i> Konsultasi Gratis</button>
      </div>
    </div>
  </section>

  <section class="section" id="produk" role="region" aria-label="Layanan Kami">
    <div class="container">
      <h2 class="section-title">Layanan Kami</h2>

      <div class="tools">
        <div class="search">
          <i class="fas fa-search" aria-hidden="true"></i>
          <input id="searchInput" type="text" placeholder="Cari layanan..." aria-label="Cari layanan">
        </div>
        <div class="filters" role="tablist" aria-label="Filter kategori">
          <button class="chip active" role="tab" aria-selected="true" data-filter="all">Semua</button>
          <button class="chip" role="tab" aria-selected="false" data-filter="design">Desain</button>
          <button class="chip" role="tab" aria-selected="false" data-filter="development">Development</button>
          <button class="chip" role="tab" aria-selected="false" data-filter="video">Video</button>
          <button class="chip" role="tab" aria-selected="false" data-filter="print">Cetak</button>
        </div>
      </div>

      <div class="grid" id="productsContainer" aria-live="polite" aria-busy="true"></div>
    </div>
  </section>

  <div class="overlay" id="overlay" aria-hidden="true"></div>
  <aside class="cart" id="cart" aria-label="Keranjang Belanja">
    <div class="cart-h">
      <strong>Keranjang Belanja</strong>
      <button class="icon-btn" id="btnCloseCart" aria-label="Tutup keranjang"><i class="fas fa-times"></i></button>
    </div>
    <div class="cart-b" id="cartItems"></div>
    <div class="cart-f">
      <div class="ttl"><span>Total</span><span id="cartTotal">Rp 0</span></div>
      <button class="btn-check" id="btnCheckout"><i class="fas fa-credit-card"></i> Checkout Sekarang</button>
    </div>
  </aside>

  <div id="liveRegion" aria-live="polite" aria-atomic="true" style="position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden;"></div>

  <footer role="contentinfo">
    <div class="foot">
      <div class="brand-mini">
        <img src="assets/logo.png" alt="Digineer" onerror="this.onerror=null;this.src='https://via.placeholder.com/120x24/10bfa4/ffffff?text=Digineer'">
        <span>© <span id="year"></span> Digineer Store</span>
      </div>
      <div class="social" aria-label="Sosial media">
        <a href="https://wa.me/6289507083879" aria-label="WhatsApp"><i class="fa-brands fa-whatsapp"></i></a>
        <a href="https://www.instagram.com/digineer_/?igsh=cmx3eW1sdXlybnk5#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
        <a href="https://www.tiktok.com/@digineer?_t=ZS-90cDrIAoYOj&_r=1" aria-label="TikTok"><i class="fa-brands fa-tiktok"></i></a>
      </div>
    </div>
  </footer>

  <script>
    // ====== DATA PRODUK YANG KONSISTEN ======
    const DEFAULT_PRODUCTS = [
      {
        id: 'p1',
        name: 'Paket Branding Professional',
        category: 'design',
        price: 2500000,
        image: 'https://images.unsplash.com/photo-1565688534245-05d6b5be184a?auto=format&fit=crop&w=800&q=80',
        description: 'Logo, brand guide, stationery design, dan social media kit lengkap'
      },
      {
        id: 'p2', 
        name: 'Website Company Profile',
        category: 'development',
        price: 3500000,
        image: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=800&q=80',
        description: 'Website perusahaan modern dengan CMS custom dan responsive design'
      },
      {
        id: 'p3',
        name: 'Video Company Profile', 
        category: 'video',
        price: 5000000,
        image: 'https://images.unsplash.com/photo-1554260570-9140fd3b7614?auto=format&fit=crop&w=800&q=80',
        description: 'Video profil perusahaan profesional dengan animasi dan editing'
      },
      {
        id: 'p4',
        name: 'UI/UX Design',
        category: 'design',
        price: 1500000,
        image: 'https://images.unsplash.com/photo-1561070791-2526d30994b5?auto=format&fit=crop&w=800&q=80',
        description: 'Desain UI/UX untuk aplikasi & website dengan user experience optimal'
      },
      {
        id: 'p5',
        name: 'E-Commerce Website',
        category: 'development', 
        price: 7500000,
        image: 'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?auto=format&fit=crop&w=800&q=80',
        description: 'Toko online lengkap dengan payment gateway dan admin panel'
      },
      {
        id: 'p6',
        name: 'Social Media Content',
        category: 'design',
        price: 800000,
        image: 'https://images.unsplash.com/photo-1611162617474-5b21e879e113?auto=format&fit=crop&w=800&q=80', 
        description: 'Konten media sosial 1 bulan dengan desain yang konsisten'
      },
      {
        id: 'p7',
        name: 'Cetak Spanduk',
        category: 'print',
        price: 200000,
        image: 'https://images.unsplash.com/photo-1607082349566-187342175e2f?auto=format&fit=crop&w=800&q=80',
        description: 'Cetak spanduk berkualitas tinggi berbagai ukuran'
      },
      {
        id: 'p8',
        name: 'Digital Marketing Package',
        category: 'marketing',
        price: 3000000,
        image: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80',
        description: 'Strategi digital marketing lengkap untuk meningkatkan penjualan'
      }
    ];

    // ====== STATE MANAGEMENT ======
    let products = [];
    let cart = JSON.parse(localStorage.getItem('digineer-cart')) || [];
    let wishlist = JSON.parse(localStorage.getItem('digineer-wishlist')) || [];
    let currentFilter = 'all';
    let currentSearch = '';
    
    const IDR = new Intl.NumberFormat('id-ID', {style: 'currency', currency: 'IDR', maximumFractionDigits: 0});
    const WHATSAPP_NUMBER = '6289507083879';
    
    // ====== UTILITY FUNCTIONS ======
    const debounce = (fn, d = 300) => {
      let t;
      return (...a) => {
        clearTimeout(t);
        t = setTimeout(() => fn(...a), d);
      };
    };
    
    const escapeHTML = s => (s || '').replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]));
    
    const getCategoryName = c => ({
      design: 'Desain',
      development: 'Development', 
      video: 'Video Production',
      print: 'Cetak',
      marketing: 'Digital Marketing'
    })[c] || c;

    // ====== DATA MANAGEMENT ======
    function initializeProducts() {
      // Coba load dari localStorage (admin panel)
      const savedProducts = localStorage.getItem('digineer-admin-products');
      
      if (savedProducts) {
        try {
          const parsed = JSON.parse(savedProducts);
          if (Array.isArray(parsed) && parsed.length > 0) {
            products = parsed;
            console.log('Loaded products from admin panel:', products.length);
            return;
          }
        } catch (e) {
          console.error('Error parsing saved products:', e);
        }
      }
      
      // Fallback ke default products
      products = [...DEFAULT_PRODUCTS];
      console.log('Loaded default products:', products.length);
      
      // Simpan default products ke localStorage untuk konsistensi
      localStorage.setItem('digineer-admin-products', JSON.stringify(products));
    }

    // ====== PRODUCTS RENDER ======
    function renderProducts() {
      const grid = document.getElementById('productsContainer');
      let filteredProducts = [...products];
      
      // Apply filter
      if (currentFilter !== 'all') {
        filteredProducts = filteredProducts.filter(p => p.category === currentFilter);
      }
      
      // Apply search
      if (currentSearch) {
        const query = currentSearch.toLowerCase();
        filteredProducts = filteredProducts.filter(p => 
          p.name.toLowerCase().includes(query) || 
          p.description.toLowerCase().includes(query)
        );
      }
      
      // Show results or empty state
      if (filteredProducts.length === 0) {
        grid.innerHTML = `
          <div class="col" style="grid-column:1/-1;text-align:center;color:#62707f;padding:3rem 1rem">
            <i class="fas fa-search" style="font-size:3rem;margin-bottom:1rem;opacity:0.5"></i>
            <h3 style="margin-bottom:1rem">Tidak ada layanan yang ditemukan</h3>
            <p style="margin-bottom:1.5rem">Coba gunakan kata kunci lain atau reset pencarian</p>
            <button class="btn btn-primary" id="btnResetSearch">
              <i class="fas fa-refresh"></i> Reset Pencarian
            </button>
          </div>`;
        
        document.getElementById('btnResetSearch')?.addEventListener('click', resetSearch);
        grid.removeAttribute('aria-busy');
        return;
      }
      
      // Render products
      grid.innerHTML = filteredProducts.map(product => `
        <div class="col">
          <article class="card">
            <img class="cover" loading="lazy" decoding="async"
                 src="${product.image}" 
                 alt="${escapeHTML(product.name)}"
                 onerror="this.onerror=null;this.src='https://via.placeholder.com/600x400/10bfa4/ffffff?text=Digineer'">
            <div class="card-body">
              <div class="cat">${getCategoryName(product.category)}</div>
              <h3 class="title">${escapeHTML(product.name)}</h3>
              <p class="desc">${escapeHTML(product.description)}</p>
              <div class="meta">
                <div class="price">${IDR.format(product.price)}</div>
                <div class="actions">
                  <button class="btn-buy" aria-label="Tambah ${escapeHTML(product.name)} ke keranjang" data-id="${product.id}">
                    <i class="fas fa-cart-plus"></i> Beli
                  </button>
                  <button class="round wish ${wishlist.includes(product.id) ? 'active' : ''}" 
                          aria-label="Wishlist ${escapeHTML(product.name)}" data-id="${product.id}">
                    <i class="${wishlist.includes(product.id) ? 'fas' : 'far'} fa-heart"></i>
                  </button>
                </div>
              </div>
            </div>
          </article>
        </div>
      `).join('');
      
      // Add event listeners
      document.querySelectorAll('.btn-buy').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const id = e.currentTarget.getAttribute('data-id');
          addToCart(id);
        });
      });
      
      document.querySelectorAll('.round.wish').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const id = e.currentTarget.getAttribute('data-id');
          toggleWishlist(id);
        });
      });
      
      grid.removeAttribute('aria-busy');
    }

    // ====== CART FUNCTIONS ======
    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      if (!product) return;
      
      const existingItem = cart.find(item => item.id === productId);
      
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({
          ...product,
          quantity: 1
        });
      }
      
      localStorage.setItem('digineer-cart', JSON.stringify(cart));
      updateCartUI();
      showNotification(`"${product.name}" ditambahkan ke keranjang! 🛒`, 'success');
    }
    
    function updateCartUI() {
      const cartBadge = document.getElementById('cartBadge');
      const cartItems = document.getElementById('cartItems');
      const cartTotal = document.getElementById('cartTotal');
      
      // Update badge
      cartBadge.textContent = cart.reduce((total, item) => total + item.quantity, 0);
      
      // Update cart items
      if (cart.length === 0) {
        cartItems.innerHTML = `
          <div style="text-align:center;color:#62707f;padding:2rem 1rem">
            <i class="fas fa-shopping-cart" style="font-size:2.5rem;margin-bottom:1rem;opacity:0.5"></i>
            <p>Keranjang belanja kosong</p>
            <button class="btn btn-primary" style="margin-top:1rem" id="btnViewProducts">
              <i class="fas fa-store"></i> Lihat Layanan
            </button>
          </div>`;
        
        document.getElementById('btnViewProducts')?.addEventListener('click', () => {
          toggleCart();
          document.getElementById('produk').scrollIntoView({behavior: 'smooth'});
        });
      } else {
        cartItems.innerHTML = cart.map(item => `
          <div class="cart-i">
            <img src="${item.image}" alt="${escapeHTML(item.name)}"
                 onerror="this.onerror=null;this.src='https://via.placeholder.com/64x64/10bfa4/ffffff?text=D'">
            <div style="flex:1">
              <div style="font-weight:800;margin-bottom:0.25rem">${escapeHTML(item.name)}</div>
              <div style="color:#0a8f7e;font-weight:900;margin-bottom:0.5rem">
                ${IDR.format(item.price)} × ${item.quantity}
              </div>
              <div style="display:flex;gap:.5rem;align-items:center">
                <button class="icon-btn" aria-label="Kurangi ${escapeHTML(item.name)}" 
                        data-id="${item.id}" data-action="decrease" ${item.quantity <= 1 ? 'disabled' : ''}>
                  <i class="fas fa-minus"></i>
                </button>
                <span style="min-width:2rem;text-align:center;font-weight:600" aria-live="polite">${item.quantity}</span>
                <button class="icon-btn" aria-label="Tambah ${escapeHTML(item.name)}" 
                        data-id="${item.id}" data-action="increase">
                  <i class="fas fa-plus"></i>
                </button>
                <button class="icon-btn" aria-label="Hapus ${escapeHTML(item.name)}" 
                        data-id="${item.id}" data-action="remove" style="margin-left:auto;color:var(--error)">
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </div>
          </div>
        `).join('');
        
        // Add event listeners to cart buttons
        document.querySelectorAll('.cart-i .icon-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const id = e.currentTarget.getAttribute('data-id');
            const action = e.currentTarget.getAttribute('data-action');
            handleCartAction(id, action);
          });
        });
      }
      
      // Update total
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      cartTotal.textContent = IDR.format(total);
    }
    
    function handleCartAction(productId, action) {
      const item = cart.find(item => item.id === productId);
      if (!item) return;
      
      switch (action) {
        case 'increase':
          item.quantity += 1;
          break;
        case 'decrease':
          if (item.quantity > 1) {
            item.quantity -= 1;
          } else {
            removeFromCart(productId);
            return;
          }
          break;
        case 'remove':
          removeFromCart(productId);
          return;
      }
      
      localStorage.setItem('digineer-cart', JSON.stringify(cart));
      updateCartUI();
    }
    
    function removeFromCart(productId) {
      cart = cart.filter(item => item.id !== productId);
      localStorage.setItem('digineer-cart', JSON.stringify(cart));
      updateCartUI();
      showNotification('Produk dihapus dari keranjang', 'success');
    }
    
    function checkout() {
      if (cart.length === 0) {
        showNotification('Keranjang masih kosong!', 'error');
        return;
      }
      
      const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      const itemsText = cart.map(item => 
        `• ${item.name} (${item.quantity}x) - ${IDR.format(item.price * item.quantity)}`
      ).join('%0A');
      
      const message = `Halo Digineer Store! 👋%0A%0ASaya mau pesan layanan berikut:%0A%0A${itemsText}%0A%0A💰 *Total: ${IDR.format(total)}*%0A%0ABisa info lebih lanjut mengenai proses order dan pembayaran?`;
      const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER}?text=${message}`;
      
      window.open(whatsappUrl, '_blank');
      showNotification('Mengarahkan ke WhatsApp... 📱', 'success');
      
      // Clear cart after successful checkout
      setTimeout(() => {
        cart = [];
        localStorage.setItem('digineer-cart', JSON.stringify(cart));
        updateCartUI();
        toggleCart();
      }, 2000);
    }

    // ====== WISHLIST FUNCTIONS ======
    function toggleWishlist(productId) {
      const index = wishlist.indexOf(productId);
      
      if (index > -1) {
        wishlist.splice(index, 1);
        showNotification('Dihapus dari wishlist', 'success');
      } else {
        wishlist.push(productId);
        showNotification('Ditambahkan ke wishlist! ❤️', 'success');
      }
      
      localStorage.setItem('digineer-wishlist', JSON.stringify(wishlist));
      document.getElementById('wishlistBadge').textContent = wishlist.length;
      renderProducts();
    }

    // ====== UI FUNCTIONS ======
    function showNotification(message, type = 'success') {
      const liveRegion = document.getElementById('liveRegion');
      if (liveRegion) liveRegion.textContent = message;
      
      // Remove existing notification
      const existingNote = document.querySelector('.note');
      if (existingNote) existingNote.remove();
      
      // Create new notification
      const note = document.createElement('div');
      note.className = `note ${type}`;
      note.setAttribute('role', 'status');
      note.setAttribute('aria-live', 'polite');
      note.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check' : 'exclamation'}-circle"></i>
        <span>${message}</span>
      `;
      
      document.body.appendChild(note);
      
      // Show animation
      setTimeout(() => note.classList.add('show'), 50);
      
      // Auto hide
      setTimeout(() => {
        note.classList.remove('show');
        setTimeout(() => note.remove(), 300);
      }, 3000);
    }
    
    function showSkeleton(count = 6) {
      const grid = document.getElementById('productsContainer');
      grid.setAttribute('aria-busy', 'true');
      
      grid.innerHTML = Array.from({length: count}, () => `
        <div class="col">
          <div class="sk-card">
            <div class="sk sk-img"></div>
            <div class="sk-body">
              <div class="sk sk-line" style="width:40%"></div>
              <div class="sk sk-line" style="width:80%"></div>
              <div class="sk sk-line" style="width:60%"></div>
            </div>
          </div>
        </div>
      `).join('');
    }

    // ====== FILTER & SEARCH ======
    function filterProducts(category, element) {
      currentFilter = category;
      
      // Update active chip
      document.querySelectorAll('.chip').forEach(chip => {
        chip.classList.remove('active');
        chip.setAttribute('aria-selected', 'false');
      });
      
      if (element) {
        element.classList.add('active');
        element.setAttribute('aria-selected', 'true');
      }
      
      renderProducts();
    }
    
    function resetSearch() {
      currentSearch = '';
      const searchInput = document.getElementById('searchInput');
      if (searchInput) searchInput.value = '';
      renderProducts();
    }
    
    const handleSearch = debounce((query) => {
      currentSearch = query.trim();
      renderProducts();
    }, 300);

    // ====== CART UI ======
    const overlay = document.getElementById('overlay');
    const cartEl = document.getElementById('cart');
    let lastFocusedElement = null;
    
    function toggleCart() {
      const willOpen = !cartEl.classList.contains('active');
      
      cartEl.classList.toggle('active');
      overlay.classList.toggle('active');
      document.body.style.overflow = willOpen ? 'hidden' : '';
      
      if (willOpen) {
        lastFocusedElement = document.activeElement;
        const firstFocusable = cartEl.querySelector('button, [href], input');
        if (firstFocusable) firstFocusable.focus();
        document.addEventListener('keydown', handleCartKeys);
      } else {
        document.removeEventListener('keydown', handleCartKeys);
        if (lastFocusedElement) lastFocusedElement.focus();
      }
    }
    
    function handleCartKeys(event) {
      if (event.key === 'Escape') {
        toggleCart();
      }
    }

    // ====== INITIALIZATION ======
    function setupEventListeners() {
      // Cart
      document.getElementById('btnCart').addEventListener('click', toggleCart);
      document.getElementById('btnCloseCart').addEventListener('click', toggleCart);
      document.getElementById('btnCheckout').addEventListener('click', checkout);
      document.getElementById('overlay').addEventListener('click', toggleCart);
      
      // Wishlist
      document.getElementById('btnWishlist').addEventListener('click', () => {
        showNotification('Fitur wishlist akan segera hadir!', 'info');
      });
      
      // Navigation
      document.getElementById('btnMenu').addEventListener('click', () => {
        const drawer = document.getElementById('drawer');
        const isOpen = drawer.classList.toggle('open');
        document.getElementById('btnMenu').setAttribute('aria-expanded', isOpen);
      });
      
      document.querySelectorAll('.drawer a').forEach(link => {
        link.addEventListener('click', () => {
          document.getElementById('drawer').classList.remove('open');
          document.getElementById('btnMenu').setAttribute('aria-expanded', 'false');
        });
      });
      
      // Hero buttons
      document.getElementById('btnExplore').addEventListener('click', () => {
        document.getElementById('produk').scrollIntoView({behavior: 'smooth'});
      });
      
      document.getElementById('btnConsult').addEventListener('click', () => {
        showNotification('Fitur konsultasi akan segera hadir!', 'info');
      });
      
      // Search
      document.getElementById('searchInput').addEventListener('input', (e) => {
        handleSearch(e.target.value);
      });
      
      // Filters
      document.querySelectorAll('.chip').forEach(chip => {
        chip.addEventListener('click', (e) => {
          const filter = e.currentTarget.getAttribute('data-filter');
          filterProducts(filter, e.currentTarget);
        });
      });
    }
    
    function init() {
      // Initialize products
      initializeProducts();
      
      // Setup UI
      setupEventListeners();
      updateCartUI();
      renderProducts();
      
      // Update badges and year
      document.getElementById('wishlistBadge').textContent = wishlist.length;
      document.getElementById('year').textContent = new Date().getFullYear();
      
      // Welcome message
      setTimeout(() => {
        showNotification('Selamat datang di Digineer Store! 🚀', 'success');
      }, 1000);
    }

    // Start the application
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
